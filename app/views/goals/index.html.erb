<div class="card">
  <p id="notice"><%= notice %></p>
  
  <h1>Goals</h1>
  
  <table class="goalsTable">
    <thead>
      <tr>
        <th>Goal name</th>
        <th>Deadline</th>
        <th>Complete?</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @goals.each do |goal| %>
        <tr class="
        <% if !time_remains(goal) %>
          times_up
        <% end %>
        <% if goal.current_goal? %>
          currentGoal
        <% end %>
        <% if goal.complete? %>
          complete
        <% end %>
        ">
          <td><%= goal.goal_name %></td>
          <td><%= goal.deadline.strftime("%A %B %d %Y@ %I:%M%p") %></td>
          <td class="completion_emoji">
            <% if goal.complete? %>
              <span title="Goal Complete!">üëç</span>
            <% end %>
            <% if time_remains(goal) && !goal.complete? %>
              <span title="Time Remains">‚è±</span>
            <% elsif !time_remains(goal) && !goal.complete %>
              <span title="Time's up!" class="alarm_clock">(( ‚è∞ ))</span>
            <% end %>
          </td>
          <td class="tableBtn"><%= link_to 'Show', goal, class: "btn" %></td>
          <td class="tableBtn"><%= link_to 'Edit', edit_goal_path(goal), class: "btn" %></td>
          <td class="tableBtn"><%= link_to 'Destroy', goal, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn--red" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <br>
  
  <div class="actions">
    <%= link_to 'New Goal', new_goal_path, class: "btn btn--rounded btn--green" %>
  </div>
  <%= link_to 'Back', root_path %>
</div>